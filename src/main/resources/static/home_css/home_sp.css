
/* =========================================================
   スマホ専用（画面幅 768px 以下）
   - ここから下はスマホ表示のときだけ適用されます
========================================================= */
@media (max-width: 768px) {

  /* ---------------------------------------------------------
     ライトモード背景（dark-mode が付いていない場合）
  --------------------------------------------------------- */
  html:not(.dark-mode),
  html:not(.dark-mode) body {
    background: radial-gradient(120% 90% at 50% 0%,
      #d9d6ff 0%,
      #f7f8ff 55%,
      #f7f8ff 100%);
  }

  /* ---------------------------------------------------------
     ヘッダー（横並び / グラデーション / 角丸 / 影）
  --------------------------------------------------------- */
  header {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: space-between !important;
    background: linear-gradient(135deg,#6C63FF 0%,#8B85FF 55%,#BFA7FF 100%);
    border-bottom-left-radius: 26px;
    border-bottom-right-radius: 26px;
    box-shadow: 0 14px 30px rgba(108, 99, 255, 0.28);
    padding: 14px 16px;
  }

  /* タイトル（左側） */
  header h1 {
    display: flex !important;
    align-items: center;
    gap: 8px;
    font-size: 22px;
    font-weight: 900;
    letter-spacing: .3px;
    white-space: nowrap;
  }

  /* 右側アイコン群 */
  .icons {
    margin-left: auto;
    display: flex !important;
    align-items: center;
    gap: 16px;
  }

  /* アイコンリンク */
  .icons a { font-size: 32px; opacity: .95; }

  /* メイン余白 */
  main { padding: 14px; gap: 16px; }

  /* ---------------------------------------------------------
     プロフィールカード（ガラス風 / 枠線 / 影）
  --------------------------------------------------------- */
  .profile-card {
    position: relative;
    border-radius: 26px;
    padding: 18px;
    background: linear-gradient(135deg, rgba(255,255,255,0.55), rgba(255,255,255,0.25));
    border: 1px solid rgba(180, 170, 255, 0.55);
    box-shadow: 0 22px 46px rgba(90, 80, 180, 0.18);
    overflow: hidden;
  }

  /* カード内の発光っぽい装飾（ぼかし） */
  .profile-card::before {
    content: "";
    position: absolute;
    inset: -50px;
    background:
      radial-gradient(60% 60% at 20% 35%, rgba(108,99,255,0.22), transparent 60%),
      radial-gradient(60% 60% at 85% 20%, rgba(255,107,107,0.16), transparent 60%);
    filter: blur(16px);
    pointer-events: none;
  }

  /* 疑似要素の上に実コンテンツを出す */
  .profile-card > * { position: relative; }

  /* あいさつテキスト */
  .greeting {
    font-size: 18px;
    font-weight: 900;
    color: #2b2b3a;
    margin-bottom: 14px;
  }

  /* プロフィールのレイアウト間隔 */
  .profile-box { gap: 14px; }

  /* プロフィール写真（円形 / グラデ枠 / 影） */
  .profile-photo {
    width: 86px;
    height: 86px;
    border-radius: 50%;
    border: 4px solid transparent;
    background:
      linear-gradient(#fff, #fff) padding-box,
      linear-gradient(135deg, #6C63FF, #FF6B6B) border-box;
    box-shadow: 0 12px 24px rgba(108, 99, 255, 0.22);
  }

  /* ラベル文字（薄め） */
  .info label {
    font-size: 13px;
    font-weight: 900;
    color: rgba(30, 30, 50, 0.45);
  }

  /* 情報の値（ピル形状） */
  .info-box {
    background: rgba(108, 99, 255, 0.16);
    border: 1px solid rgba(108, 99, 255, 0.22);
    color: #1f1f2e;
    border-radius: 999px;
    padding: 8px 12px;
    font-weight: 900;
    text-align: left;
  }

  /* 区切り線 */
  .profile-card hr {
    border: none;
    height: 1px;
    background: rgba(150, 140, 230, 0.35);
    margin: 18px 0;
  }

  /* 出席関連ラベル */
  .attendance-box label {
    font-size: 16px;
    font-weight: 900;
    color: rgba(30, 30, 50, 0.55);
    text-shadow: none;
  }

  /* 出席率などの強調数値 */
  .rate-text {
    font-size: 34px;
    font-weight: 900;
    color: #ff6b6b;
    margin: 10px 0 12px;
  }

  /* プログレス背景 */
  .progress {
    height: 12px;
    border-radius: 999px;
    background: rgba(108, 99, 255, 0.12);
  }

  /* プログレスバー（状態別クラスも同じ見た目に統一） */
  .progress-bar,
  .progress-bar.low,
  .progress-bar.mid,
  .progress-bar.high {
    height: 100%;
    border-radius: 999px;
    background: linear-gradient(90deg, #ff6b6b, #ff8a8a);
    box-shadow: 0 10px 20px rgba(255, 107, 107, 0.22);
    transition: width 0.8s ease;
  }

  /* =========================================================
     ダークモード（html に .dark-mode が付いた場合）
  ========================================================= */

  /* 背景＆全体文字色 */
  html.dark-mode,
  html.dark-mode body {
    background: radial-gradient(120% 90% at 50% 0%,
      #2a2a3a 0%,
      #16161d 55%,
      #16161d 100%) !important;
    color: #f2f2ff !important;
    min-height: 100% !important;
  }

  /* ダークモードのヘッダー背景 */
  html.dark-mode header {
    background: linear-gradient(135deg,#2f2f52 0%,#3a3a66 60%,#4a3f78 100%);
  }

  /* ヘッダー内の文字・アイコンを明るく */
  html.dark-mode header,
  html.dark-mode header h1,
  html.dark-mode .icons a {
    color: #f2f2ff !important;
  }

  /* ダークモードのカード（背景・枠線） */
  html.dark-mode .profile-card {
    background: linear-gradient(135deg, rgba(55,55,80,0.72), rgba(35,35,55,0.55));
    border-color: rgba(140, 130, 220, 0.35);
  }

  /* ダークモードのテキスト色 */
  html.dark-mode .greeting,
  html.dark-mode .info label,
  html.dark-mode .attendance-box label,
  html.dark-mode .rate-text {
    color: #f2f2ff !important;
  }

  /* ダークモードの情報ボックス */
  html.dark-mode .info-box {
    background: rgba(108, 99, 255, 0.16);
    border-color: rgba(108, 99, 255, 0.25);
    color: #f2f2ff !important;
  }

  /* ダークモードのプログレス背景 */
  html.dark-mode .progress {
    background: rgba(200, 200, 255, 0.10);
  }

  /* ---------------------------------------------------------
     メニュー非表示（スマホでは aside.menu を隠す）
  --------------------------------------------------------- */
  aside.menu { display: none !important; }
}
